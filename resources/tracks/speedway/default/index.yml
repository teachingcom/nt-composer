
type: track
speed: 0
tint: 0x6666ff

# effects:
#   -
#     attach_to: car
#     side: front
#     compose:
#       - type: emitter

# foreground:
#   compose:
#     - type: emitter
#       image: //particles/rain
#       props:
#         emit.rect.width: 10
#       emit:
#         life: [1, 2]
#         blend: screen
#         color: [0xffffff, 0x005599]
#         scale: [0.5, 0.5]
#         alpha: [1, 0]
#         speed: [1600, 2400]
#         dir: [168, 178]
#         startRotation: -90
#         freq: 30
#         rect: [100, 900, 500, 0]

# # start:
# # end:

# actors:

#   tire:

#     - type: group
#       props:
#         y: -800
        
#       compose: 
#         - type: sprite
#           image: simple_tire
#           props:
#             tint: 0xff0000
#             scaleX: 0.3
#             scaleY: 0.3
        
#         - type: sprite
#           image: simple_tire
#           props:
#             tint: 0xffffff
#             x: [:rx, -30, 30]
#             y: -40
#             scaleX: 0.3
#             scaleY: 0.3
        
#         - type: sprite
#           image: simple_tire
#           props:
#             tint: 0xff0000
#             y: -80
#             x: [:rx, -60, 60]
#             scaleX: 0.3
#             scaleY: 0.3

# actor:
#   type: crowd
#   animation: [cheer, jump, clap, wave]
#   actor: [ robo_1, man_2 ]

# crowd:
#   compose:

#     - type: repeater
#       marginX: 0
#       marginY: 0
#       repeatX: 20
#       repeatY: 3

#       compose: 
#         - type: crowd
#           animation: [cheer, jump, clap, wave]
#           actor: [ robo_1, man_2 ]

#     - type: repeater
#       marginX: 0
#       marginY: 0
#       repeatX: 20
#       repeatY: 3
#       props:

#       compose: 
#         - type: crowd
#           animation: [cheer, jump, clap, wave]
#           actor: [ robo_1, man_2 ]
#           props:
#             y: -60
#             x: 20

#     - type: repeater
#       marginX: 0
#       marginY: 0
#       repeatX: 20
#       repeatY: 3
#       props:

#       compose: 
#         - type: crowd
#           animation: [cheer, jump, clap, wave]
#           actor: [ robo_1, man_2 ]
#           props:
#             y: -120
#             x: -20

#     # - type: crowd
#     #   animation: cheer
#     #   actor: man_2
    
#     # - type: crowd
#     #   animation: wave
#     #   actor: man_2
    
#     # - type: crowd
#     #   animation: clap
#     #   actor: man_2
    
#     # - type: crowd
#     #   animation: jump
#       # actor: man_2

#     # - type: crowd
#     #   animation: cheer
#     #   actor: man_1
#     #   scale: 0.5
#     #   props:
#     #     x: 390
#     #     y: -560

#     # - type: crowd
#     #   animation: cheer
#     #   actor: man_1
#     #   scale: 2
#     #   props:
#     #     x: 430
#     #     y: -590

align_bottom:
  props:
    pivot.y: 1
    scale.y: -1
    y: 355

align_top:
  props:
    pivot.y: 1
    y: -355

track:

  start:

    - type: crowd
      actor: boy_1
      animation: jump
      props:
        x: 800

    - type: crowd
      actor: boy_1
      animation: cheer
      props:
        x: 400

    - type: crowd
      actor: boy_1
      animation: wave
      props:
        x: 600
    
    - type: sprite
      image: grass_1
      base: /align_top
    
    - type: sprite
      image: grass_1
      base: /align_bottom
    
    - type: sprite
      image: grass_2
      base: /align_top
      props:
        x: -416
    
    - type: sprite
      image: grass_2
      base: /align_bottom
      props:
        x: -416

    - type: sprite
      image: starting_line
      role: base

  order: [0, 0, 0, 1, 0, 0, 0, 0]
  repeating:

    - compose:

      - type: sprite
        image: grass_1
        base: /align_bottom
        props:
          x: 416
        
      - type: sprite
        image: grass_1
        base: /align_bottom
      
      - type: sprite
        image: grass_1
        base: /align_top
        props:
          x: 416
        
      - type: sprite
        image: grass_2
        base: /align_top

      - type: repeater
        cols: 2
        rows: 1

        compose:
          
          - type: sprite
            image: road_1
            role: base

    - compose:

      - type: sprite
        image: barrier_out
        base: /align_top
        props:
          x: [:*, 416, 0]

      - type: sprite
        image: barrier_1
        base: /align_top
        props:
          x: [:*, 416, 1]

      - type: sprite
        image: barrier_2
        base: /align_top
        props:
          x: [:*, 416, 2]

      - type: sprite
        image: barrier_1
        base: /align_top
        props:
          x: [:*, 416, 3]

      - type: sprite
        image: barrier_2
        base: /align_top
        props:
          x: [:*, 416, 4]

      - type: sprite
        image: barrier_1
        base: /align_top
        props:
          x: [:*, 416, 5]

      - type: sprite
        image: barrier_2
        base: /align_top
        props:
          x: [:*, 416, 6]

      - type: sprite
        image: barrier_1
        base: /align_top
        props:
          x: [:*, 416, 7]

      - type: sprite
        image: barrier_2
        base: /align_top
        props:
          x: [:*, 416, 8]

      - type: sprite
        image: barrier_in
        base: /align_top
        props:
          x: [:*, 416, 9]

      - type: repeater
        cols: 5
        rows: 1
        compose:
          - type: sprite
            image: grass_1
            base: /align_bottom
            props:
              x: 416
              y: 355
              pivot.y: 1
              scale.y: -1
          
          - type: sprite
            image: grass_2
            base: /align_bottom
            props:
              y: 355
              pivot.y: 1
              scale.y: -1

      
      - type: repeater
        cols: 10
        rows: 1

        compose:
          
          - type: sprite
            image: [:pick, road_1, road_2, road_3 ]
            role: base

