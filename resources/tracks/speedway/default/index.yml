
type: track
speed: 0
tint: 0x6666ff

effects:
  -
    attach_to: car
    side: front
    compose:
      - type: emitter

foreground:
  compose:
    - type: emitter
      image: //particles/rain
      props:
        emit.rect.width: 10
      emit:
        life: [1, 2]
        blend: screen
        color: [0xffffff, 0x005599]
        scale: [0.5, 0.5]
        alpha: [1, 0]
        speed: [1600, 2400]
        dir: [168, 178]
        startRotation: -90
        freq: 30
        rect: [100, 900, 500, 0]

# start:
# end:

actors:

  tire:

    - type: group
      props:
        y: -800
        
      compose: 
        - type: sprite
          image: simple_tire
          props:
            tint: 0xff0000
            scaleX: 0.3
            scaleY: 0.3
        
        - type: sprite
          image: simple_tire
          props:
            tint: 0xffffff
            x: [:rx, -30, 30]
            y: -40
            scaleX: 0.3
            scaleY: 0.3
        
        - type: sprite
          image: simple_tire
          props:
            tint: 0xff0000
            y: -80
            x: [:rx, -60, 60]
            scaleX: 0.3
            scaleY: 0.3



track:

  finish:

    - type: emitter
      images:
        - //particles/confetti_1
        - //particles/confetti_2
        - //particles/confetti_3
        - //particles/confetti_4

      props:
        z: 2

      emit:
        life: [1, 2]
        scale: [1, 0.4]
        alpha: [1, 0]
        speed: [50, 150]
        rotation: [-360, 360]
        dir: [120, 95]
        rect: [4000, 2000, 1000]
        freq: 200
    

    - type: sprite
      image: road_1
      role: base
      props:
        tint: 0xccffff
        x: 600

    - type: sprite
      image: starting_block
      role: base

    - type: sprite
      image: road_1
      role: base
      props:
        tint: 0xccffff
        x: -600

  start:

    - type: sprite
      image: road_1
      role: base

    - type: sprite
      image: road_2
      role: base
      props:
        x: -600

    - type: sprite
      image: starting_block
      role: base
      props:
        x: 600

    - type: sprite
      image: ground_1
      props:
        y: -886
        x: -320
        scaleX: 2.3
    
    - type: sprite
      image: ground_1
      props:
        y: -886
        x: 320
        scaleX: 2.3
    
    - type: sprite
      image: ground_1
      props:
        y: 886
        x: -320
        scaleX: 2.3
    
    - type: sprite
      image: ground_1
      props:
        y: 886
        x: 320
        scaleX: 2.3

  order: random
  repeating:

    - compose:

        - type: sprite
          image: road_1
          role: base

        - type: sprite
          image: ground_1
          props:
            y: -886
            scaleX: 1.175
        
        - type: sprite
          image: ground_1
          props:
            y: 886
            scaleX: 1.175

    - compose:

        - type: sprite
          image: road_3
          role: base

        - type: sprite
          image: ground_1
          props:
            y: -886
            scaleX: 1.175
        
        - type: sprite
          image: ground_1
          props:
            y: 886
            scaleX: 1.175
          
    - compose:

        - type: sprite
          image: road_2
          role: base

        - type: sprite
          image: ground_1
          props:
            y: -886
            scaleX: 1.175

        - type: sprite
          image: ground_1
          props:
            y: 886
            scaleX: 1.175
          