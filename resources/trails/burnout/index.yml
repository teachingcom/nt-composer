type: trail

# shared animation for tire treads so that
# they travel out nearly next to each other
# with a sight y variance
treads:
  image: treads
  props:
    z: -2
    x: 30

  emit:
    dir: [180, 180]
    alpha: [0.7, 0]
    life: [0.7, 0.7]
    scale: [0.4, 0.4]
    speed: [600, 600]
    freq: 24
    rect: [1, 6]

    # do not rotate treads
    noRotation: true

# shared emitter for flames behind the tires
flame:
  image: glow
  props:
    z: -1
    x: 60

  emit:
    dir: [178, 182]
    color: [0xffffcc, 0xff8800, 0xcc0000]
    alpha: [1, 0]
    life: [0.1, 0.3]
    scale: [0.5, 1.8]
    speed: [600, 700]
    blend: add
    freq: 20

    # flames always come out at
    # default angle with a slight variance
    startRotation: 0
    rotation: [-20, 20]

# trail composition
compose:

  # top tire treads
  - type: emitter
    base: /treads
    props:
      y: -70

  # bottom tire treads
  - type: emitter
    base: /treads
    props:
      y: 70
  
  # top flame
  - type: emitter
    base: /flame
    props:
      y: -70

  # bottom frame
  - type: emitter
    base: /flame
    props:
      y: 70
